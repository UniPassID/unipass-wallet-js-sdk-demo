"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[233],{88256:function(Oe,F,r){r.r(F),r.d(F,{default:function(){return he}});var Y=r(57420),o=r.n(Y),q=r(41576),b=r.n(q),_=r(77407),v=r.n(_),ee=r(12598),R=r(78442),B=function(T){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:18;return R.formatUnits(T,y)},M=function(T){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:18;return R.parseUnits(T,y)},se=r(2640),ae=r.n(se),re=r(42138),ne=r.n(re),le=r(79506),te=r.n(le),ie=function(){function P(){ae()(this,P),te()(this,"tasks",[])}return ne()(P,[{key:"add",value:function(y){this.tasks.push(y)}},{key:"run",value:function(){return Promise.all(this.tasks)}}]),P}(),m=r(18028),L=r(65758),ue=r(13003),S=r(50985),de=r(41794),Z=r(73801),V=r(93764),C=r(31233),l=r(66169),w=r(72440),ce=r(36284),p=r(58757),oe=r(44140),e=r(48902),$=m.Z.TextArea,I=L.Z.Option,U=ue.Z.Paragraph,fe=function(){var T=(0,p.useState)("0"),y=v()(T,2),ge=y[0],me=y[1],ve=(0,p.useState)("0"),O=v()(ve,2),pe=O[0],je=O[1],Ze=(0,p.useState)("0"),z=v()(Ze,2),ye=z[0],xe=z[1],Se=(0,p.useState)(""),D=v()(Se,2),Te=D[0],be=D[1],Ce=(0,p.useState)(""),G=v()(Ce,2),N=G[0],Ie=G[1],Pe=(0,p.useState)(!1),H=v()(Pe,2),E=H[0],k=H[1],ke=(0,p.useState)(!1),J=v()(ke,2),Ae=J[0],K=J[1],Me=(0,p.useState)(!1),Q=v()(Me,2),we=Q[0],X=Q[1],W=(0,ee.L)(),c=W.unipassWallet,Be=W.logout,Le=W.loading,Ve=function(){var f=b()(o()().mark(function u(){var a,d,i,n,x,h,g,A,t,j;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!c){s.next=37;break}return s.prev=1,k(!0),s.next=5,c.wallet("polygon");case 5:return a=s.sent,s.next=8,c.wallet("bsc");case 8:return d=s.sent,s.next=11,c.wallet("rangers");case 11:return i=s.sent,n=new ie,n.add(a==null?void 0:a.getAddress()),n.add(a==null?void 0:a.getBalance()),n.add(d==null?void 0:d.getBalance()),n.add(i==null?void 0:i.getBalance()),s.next=19,n.run();case 19:x=s.sent,h=v()(x,4),g=h[0],A=h[1],t=h[2],j=h[3],me(B(A)),je(B(t)),xe(B(j)),be(g),s.next=34;break;case 31:s.prev=31,s.t0=s.catch(1),console.log(s.t0);case 34:return s.prev=34,k(!1),s.finish(34);case 37:case"end":return s.stop()}},u,null,[[1,31,34,37]])}));return function(){return f.apply(this,arguments)}}();(0,p.useEffect)(function(){Ve()},[c]);var $e=function(){var f=b()(o()().mark(function u(){var a;return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Be();case 2:a=i.sent,a&&oe.m8.push("/");case 4:case"end":return i.stop()}},u)}));return function(){return f.apply(this,arguments)}}(),Ee=function(){var f=b()(o()().mark(function u(a){var d,i,n,x,h,g;return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=21;break}return t.prev=1,k(!0),d=a.address,i=a.value,n=a.feeAddress,x=a.feeValue,h=a.chain,console.log(a),g={},g.tx={target:d,value:M(i),revertOnError:!0},n&&(g.fee={token:n,value:M(x)}),g.chain=h,t.next=11,c.transaction(g);case 11:S.ZP.success("send native token successfully"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),t.t0.code===403001&&S.ZP.info("Please check your email"),console.log(t.t0);case 18:return t.prev=18,k(!1),t.finish(18);case 21:case"end":return t.stop()}},u,null,[[1,14,18,21]])}));return function(a){return f.apply(this,arguments)}}(),We=function(){var f=b()(o()().mark(function u(a){var d,i,n,x,h,g,A,t,j;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!c){s.next=23;break}return s.prev=1,k(!0),d=a.address,i=a.erc20TokenAddress,n=a.erc20TokenValue,x=a.feeAddress,h=a.feeValue,g=a.chain,A=new ce.vU(["function transfer(address _to, uint256 _value)"]),t=A.encodeFunctionData("transfer",[d,M(n)]),j={},j.tx={target:i,value:M("0"),revertOnError:!0,data:t},a.feeAddress&&(j.fee={token:x,value:M(h)}),j.chain=g,console.log(j),s.next=13,c.transaction(j);case 13:S.ZP.success("send erc20 token successfully"),s.next=20;break;case 16:s.prev=16,s.t0=s.catch(1),s.t0.code===403001&&S.ZP.info("Please check your email"),console.log(s.t0);case 20:return s.prev=20,k(!1),s.finish(20);case 23:case"end":return s.stop()}},u,null,[[1,16,20,23]])}));return function(a){return f.apply(this,arguments)}}(),Fe=function(){var f=b()(o()().mark(function u(a){var d;return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=8;break}return K(!0),n.next=4,c.signMessage(a.message);case 4:d=n.sent,Ie(d),S.ZP.success("sign message successfully"),K(!1);case 8:case"end":return n.stop()}},u)}));return function(a){return f.apply(this,arguments)}}(),Re=function(){var f=b()(o()().mark(function u(a){var d;return o()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=7;break}return X(!0),n.next=4,c.verifySignMessage(a.message,a.signature);case 4:d=n.sent,d?S.ZP.success("verify sign message successfully"):S.ZP.error("verify sign message failed"),X(!1);case 7:case"end":return n.stop()}},u)}));return function(a){return f.apply(this,arguments)}}();return(0,e.jsxs)(de.Z,{spinning:E,children:[(0,e.jsx)("h3",{children:"login successfully"}),(0,e.jsxs)("h4",{children:["Address: ",Te]}),(0,e.jsx)(Z.Z,{}),(0,e.jsx)(V.Z,{ghost:!1,title:"polygon info",children:(0,e.jsx)(C.Z,{size:"small",column:3,children:(0,e.jsx)(C.Z.Item,{label:"Balance",children:ge})})}),(0,e.jsx)(Z.Z,{}),(0,e.jsx)(V.Z,{ghost:!1,title:"bsc info",children:(0,e.jsx)(C.Z,{size:"small",column:3,children:(0,e.jsx)(C.Z.Item,{label:"Balance",children:pe})})}),(0,e.jsx)(Z.Z,{}),(0,e.jsx)(V.Z,{ghost:!1,title:"rangers info",children:(0,e.jsx)(C.Z,{size:"small",column:3,children:(0,e.jsx)(C.Z.Item,{label:"Balance",children:ye})})}),(0,e.jsx)(Z.Z,{}),(0,e.jsx)("h3",{children:"sign message"}),(0,e.jsxs)(l.Z,{name:"sign message",labelCol:{span:6},wrapperCol:{span:18},onFinish:Fe,autoComplete:"off",children:[(0,e.jsx)(l.Z.Item,{label:"message",name:"message",rules:[{required:!0,message:"Please input your message!"}],children:(0,e.jsx)($,{})}),(0,e.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(w.Z,{loading:Ae,type:"primary",htmlType:"submit",children:"sign message"})}),(0,e.jsx)("h5",{children:"signed message"}),(0,e.jsx)(U,{copyable:!0,children:N||"--"})]}),(0,e.jsx)(Z.Z,{}),(0,e.jsx)("h3",{children:"verify sign message"}),(0,e.jsxs)(l.Z,{name:"sign message",labelCol:{span:6},wrapperCol:{span:18},onFinish:Re,autoComplete:"off",children:[(0,e.jsx)(l.Z.Item,{label:"message",name:"message",rules:[{required:!0,message:"Please input your message!"}],children:(0,e.jsx)($,{})}),(0,e.jsx)(l.Z.Item,{label:"signature",name:"signature",rules:[{required:!0,message:"Please input your message!"}],children:(0,e.jsx)($,{})}),(0,e.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(w.Z,{loading:we,type:"primary",htmlType:"submit",children:"verify sign message"})}),(0,e.jsx)("h5",{children:"signed message"}),(0,e.jsx)(U,{copyable:!0,children:N||"--"})]}),(0,e.jsx)(Z.Z,{}),(0,e.jsx)("h3",{children:"send native transaction"}),(0,e.jsxs)(l.Z,{name:"native transaction",labelCol:{span:6},wrapperCol:{span:18},onFinish:Ee,autoComplete:"off",children:[(0,e.jsx)(l.Z.Item,{name:"chain",label:"chain",rules:[{required:!0}],children:(0,e.jsxs)(L.Z,{placeholder:"Select  chain",allowClear:!0,children:[(0,e.jsx)(I,{value:"polygon",children:"polygon"}),(0,e.jsx)(I,{value:"bsc",children:"bsc"}),(0,e.jsx)(I,{value:"rangers",children:"rangers"})]})}),(0,e.jsx)(l.Z.Item,{label:"address",name:"address",rules:[{required:!0,message:"Please input your address!"}],children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"value",name:"value",rules:[{required:!0,message:"Please input your value!"}],children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"fee token address",name:"feeAddress",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"fee value",name:"feeValue",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(w.Z,{loading:E,type:"primary",htmlType:"submit",children:"send"})})]}),(0,e.jsx)(Z.Z,{}),(0,e.jsx)("h3",{children:"send erc20 transaction"}),(0,e.jsxs)(l.Z,{name:"erc20 transaction",labelCol:{span:6},wrapperCol:{span:18},onFinish:We,autoComplete:"off",children:[(0,e.jsx)(l.Z.Item,{name:"chain",label:"chain",rules:[{required:!0}],children:(0,e.jsxs)(L.Z,{placeholder:"Select  chain",allowClear:!0,children:[(0,e.jsx)(I,{value:"polygon",children:"polygon"}),(0,e.jsx)(I,{value:"bsc",children:"bsc"}),(0,e.jsx)(I,{value:"rangers",children:"rangers"})]})}),(0,e.jsx)(l.Z.Item,{label:"address",name:"address",rules:[{required:!0,message:"Please input your address!"}],children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"erc2 token address",name:"erc20TokenAddress",rules:[{required:!0,message:"Please input your address!"}],children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"erc20 token value",name:"erc20TokenValue",rules:[{required:!0,message:"Please input your value!"}],children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"fee token address",name:"feeAddress",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(l.Z.Item,{label:"fee value",name:"feeValue",children:(0,e.jsx)(m.Z,{})}),(0,e.jsx)(l.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(w.Z,{loading:E,type:"primary",htmlType:"submit",children:"send"})})]}),(0,e.jsx)(Z.Z,{}),(0,e.jsx)(w.Z,{onClick:$e,danger:!0,loading:Le,children:"logout"})]})},he=fe}}]);
